if (self.CavalryLogger) { CavalryLogger.start_js(["MzkVM"]); }

__d("KaiOSSendMessageUtil",["Event"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(){this.$1=!1,this.$2=null,this.$3()}var c=a.prototype;c.$3=function(){var a=this;this.$2=b("Event").listen(window,"beforeunload",function(){a.$1=!0,a.$2&&(a.$2.remove(),a.$2=null)})};c.postMessage=function(a,b,c,d){if(a&&b&&!this.$1){var e=new Map();e.set(g.Action,b);c&&e.set(g.ActionPayload,c);d!=null&&e.set(g.CallbackID,d);a.postMessage(e,"*")}};return a}();var g={Type:Object.freeze({HANDLE_BACK:"handle_back",MESSAGE_RECEIVED:"received",OPEN_URL:"open_url",REGISTER_PUSH:"register_push",SCREEN_ORIENTATION_LOCK:"screen_orientation_lock",UNREGISTER_PUSH:"unregister_push",CHECK_FOR_PUSH_UPDATE:"check_for_push_update",PUSH_UPDATE_COMPLETED:"push_update_completed",SET_VOLUME:"set_volume",FBT_STRINGS:"fbt_strings",CONFIG_RESPONSE:"config_response",FETCH_MSISDN:"fetch_msisdn",GET_CONTACTS:"get_contacts",TOGGLE_SPATIAL_NAV:"toggle_spatial_nav",LITE_MIGRATION_STATUS:"lite_migration_status"}),Action:"action",ActionPayload:"payload",CallbackID:"callback_id",_singletonImpl:new a(),postMessage:function(a,b,c,d){g._singletonImpl.postMessage(a,b,c,d)}};e.exports=g}),null);
__d("KaiOSConnectionHelper",["KaiOSSendMessageUtil"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g="app://m.facebook.com";a=function(){__p&&__p();function a(){this.hostWindow=null,this.resolveOnConnect=null}var c=a.prototype;c.receiveMessage=function(a){if(!a||a.origin!==g||!a.source)return!1;if(a.data==="ping"){this.hostWindow||(this.hostWindow=a.source,b("KaiOSSendMessageUtil").postMessage(this.hostWindow,b("KaiOSSendMessageUtil").Type.MESSAGE_RECEIVED));a=this.resolveOnConnect;a&&(a(),this.resolveOnConnect=null)}return!0};return a}();c=new a();e.exports=c}),null);
__d("KaiOSControllerConfig",[],(function(a,b,c,d,e,f){"use strict";a={};e.exports=a}),null);
__d("URLSearchParams",[],(function(a,b,c,d,e,f){__p&&__p();var g=/\+/g,h=/[!\'()*]/g,i=/%20/g;function j(a){return encodeURIComponent(a).replace(i,"+").replace(h,function(a){return"%"+a.charCodeAt(0).toString(16)})}function k(a){return decodeURIComponent((a=a)!=null?a:"").replace(g," ")}var l=typeof Symbol==="function"?Symbol.iterator:"@@iterator";a=function(){"use strict";__p&&__p();function a(a){a===void 0&&(a="");a=a;a[0]==="?"&&(a=a.substr(1));this.$1=a.length?a.split("&").map(function(a){a=a.split("=");var b=a[0];a=a[1];return[k(b),k(a)]}):[]}var b=a.prototype;b.append=function(a,b){this.$1.push([a,String(b)])};b["delete"]=function(a){for(var b=0;b<this.$1.length;b++)this.$1[b][0]===a&&(this.$1.splice(b,1),b--)};b.entries=function(){return this.$1[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]()};b.get=function(a){for(var b=0,c=this.$1.length;b<c;b++)if(this.$1[b][0]===a)return this.$1[b][1];return null};b.getAll=function(a){var b=[];for(var c=0,d=this.$1.length;c<d;c++)this.$1[c][0]===a&&b.push(this.$1[c][1]);return b};b.has=function(a){for(var b=0,c=this.$1.length;b<c;b++)if(this.$1[b][0]===a)return!0;return!1};b.keys=function(){var a=this.$1.map(function(a){var b=a[0];a[1];return b});return a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]()};b.set=function(a,b){var c=!1;for(var d=0;d<this.$1.length;d++)this.$1[d][0]===a&&(c?(this.$1.splice(d,1),d--):(this.$1[d][1]=String(b),c=!0));c||this.$1.push([a,String(b)])};b.toString=function(){return this.$1.map(function(a){var b=a[0];a=a[1];return j(b)+"="+j(a)}).join("&")};b.values=function(){var a=this.$1.map(function(a){a[0];a=a[1];return a});return a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]()};b[l]=function(){return this.entries()};return a}();e.exports=a}),null);
__d("KaiOSControllerUtils",["KaiOSConnectionHelper","KaiOSSendMessageUtil","URLSearchParams"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=function(){__p&&__p();function a(){this.callbacks=new Map(),this.nextCallbackID=1}var b=a.prototype;b.setCallback=function(a){var b=(this.nextCallbackID++).toString();this.callbacks.set(b,a);return b};b.handleCallback=function(a,b){if(a){var c=this.callbacks.get(a);c&&(this.callbacks["delete"](a),c(b));return!0}return!1};return a}();function a(a){return!1}function c(){var a=location.pathname;a=a==="/"||a==="/kaiosapp/jio/home/"||a.startsWith("/home.php")||a.startsWith("/index.php")||a.startsWith("/confirmemail.php");var c=new(b("URLSearchParams"))(window.location.search);c=c.has("soft");return a&&!c}function d(){var a=new(b("URLSearchParams"))(window.location.search);return a.has("exit_on_back")}function f(a){var c=new Map();c.set("url",a);b("KaiOSSendMessageUtil").postMessage(b("KaiOSConnectionHelper").hostWindow,b("KaiOSSendMessageUtil").Type.OPEN_URL,c)}a={createCallbackHandler:function(){return new g()},sendBasicPost:function(a,b,c){var d=new XMLHttpRequest();d.open("POST",a);d.setRequestHeader("Content-Type","application/x-www-form-urlencoded");a=[];for(var e in b)a.push(encodeURIComponent(e)+"="+encodeURIComponent(b[e]));d.onload=function(){c&&c(d)};d.send(a.join("&"))},keyDownEventHandledByRegPage:a,isOnHomeOrConfPage:c,openUrl:f,shouldExitOnBackForLoggedOutPush:d};e.exports=a}),null);
__d("KaiOSFullscreenVideoHandler",["KaiOSSendMessageUtil","getActiveElement"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=Object.freeze({RIGHT:6,LEFT:4,UP:2,DOWN:8,MIDDLE:5}),h=Object.freeze({KEY:"type",DOWN:-1,UP:1});a=function(){__p&&__p();function a(a){this.hostWindow=a}var c=a.prototype;c.handleKeyDownEvent=function(a){__p&&__p();var b=this.getVideoIfFullScreen();if(!b)return!1;if(a.key==="SoftLeft"){document.exitFullscreen();return!0}else if(a.key==="SoftRight"){b.muted=!b.muted;return!0}return!1};c.handleClickEvent=function(a){a=this.getVideoIfFullScreen();if(!a)return!1;this.togglePause(a);return!0};c.handleMouseMoveEvent=function(a){return!1};c.getVideoIfFullScreen=function(){return document.fullscreenElement&&document.fullscreenElement.nodeName&&document.fullscreenElement.nodeName=="VIDEO"?b("getActiveElement")():null};c.seek=function(a,b){b?a.currentTime=Math.min(a.duration,a.currentTime+10):a.currentTime=Math.max(0,a.currentTime-10)};c.togglePause=function(a){a.paused?a.play():a.pause()};c.volume=function(a){if(!a||a!=h.UP&&a!=h.DOWN)return;var c=new Map();c.set(h.KEY,a.toString());b("KaiOSSendMessageUtil").postMessage(this.hostWindow,b("KaiOSSendMessageUtil").Type.SET_VOLUME,c)};c.control=function(a,b){__p&&__p();if(b)switch(b){case g.UP:this.volume(h.UP);break;case g.DOWN:this.volume(h.DOWN);break;case g.LEFT:this.seek(a,!1);break;case g.RIGHT:this.seek(a,!0);break;case g.MIDDLE:this.togglePause(a);break}};return a}();e.exports=a}),null);
__d("KaiOSHTMLElementUtils",["EventListener","Keys"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=["email","number","password","search","tel","text","url"];function h(a){__p&&__p();var b=a.tabIndex;if(parseInt(b,10)<0)return!1;if(b>0||b===0&&a.getAttribute("tabIndex")!==null)return!0;if(a instanceof HTMLAnchorElement)return!!a.href&&a.rel!="ignore";else if(a instanceof HTMLInputElement)return a.type!="hidden"&&a.type!="file"&&!a.disabled;else if(a instanceof HTMLButtonElement||a instanceof HTMLSelectElement||a instanceof HTMLTextAreaElement)return!a.disabled;return!1}var i={isTextfieldInput:function(a){return a instanceof HTMLTextAreaElement||a instanceof HTMLInputElement&&(g.includes(a.type)||a.type==="")},isLink:function(a){return a.tagName==="A"},isNTElement:function(a){return a.hasAttribute("data-nt")},isFileUploadElement:function(a){return a.hasAttribute("data-kaios-file-upload-element")},isSpatialNavElement:function(a){return(a.hasAttribute("data-kaios-spatial-navigation")||a.hasAttribute("data-kaios-whitelist-nav")||h(a))&&!a.hasAttribute("data-kaios-blacklist-nav")&&i.isVisible(a)},isVisible:function(a){return(a.offsetHeight!==0&&a.offsetWidth!==0||a.offsetParent!==null)&&window.getComputedStyle(a).visibility!=="hidden"},getFirstLink:function(a){__p&&__p();for(var b=0;b<a.children.length;++b)if(i.isLink(a.children[b]))return a.children[b];for(var b=0;b<a.children.length;++b){var c=a.children[b];for(var d=0;d<c.children.length;++d)if(i.isLink(c.children[d]))return c.children[d]}return null},attachClickHandlerToSubmitFormOnElement:function(a,c){b("EventListener").listen(a,"click",function(){c.submit()}),b("EventListener").listen(a,"keyup",function(a){a.keyCode===b("Keys").RETURN&&c.submit()})}};e.exports=i}),null);
__d("KaiOSSoftkeyTrayLogger",["BanzaiLogger"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={logSoftkeyTrayButtonClicked:function(a){__p&&__p();var c={event_category:"softkey_tray"};switch(a){case"kaios_tray_back":c.event="softkey_back_button_clicked";break;case"kaios_tray_menu":c.event="softkey_menu_button_clicked";break;case"kaios_tray_post":c.event="softkey_post_button_clicked";break;case"kaios_tray_menu_close":c.event="softkey_menu_close_button_clicked";break;default:c.event="softkey_other_button_clicked";c.miscellaneous={detail:a};break}b("BanzaiLogger").log("KaiOSEventsLoggerConfig",c)}};e.exports=a}),null);
__d("KaiOSMenuHandler",["csx","cx","fbt","regeneratorRuntime","CSS","DOM","Event","KaiOSSoftkeyTrayLogger","MViewport","Stratcom","URI"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j;a=function(){__p&&__p();function a(){__p&&__p();var a=this;this.menuShown=!1;this.showPageSoftkeyTray=!1;this.toggleMenuVisibility=function(a,c){var d=b("MViewport").getScrollTop();if(d<=0)return;if(c)a.style.top="0px",a.classList.add("float");else{c=-Math.min(d,a.clientHeight);a.style.top=c+"px";a.classList.remove("float")}};this.$1=function(b){a.showFloatingMenu()};this.$2=function(c){var d=a.leftButtonElement;c=c.getData().path;if(a.menuShown&&d!=null){var e=null;c!=null&&(e=new(j||(j=b("URI")))(c).getQueryData().soft);c=new CustomEvent("kaios_close_menu",{detail:{focusFirstNode:e!=="search"}});d.dispatchEvent(c);b("MViewport").scrollToTop()}};this.$3=function(c){__p&&__p();c=c.detail;var d=c.leftButtonText;if(d!=null){a.showPageSoftkeyTray||b("DOM").show(a.softkeyTrayContainer);var e=c.leftButtonEvent,f=c.leftButtonLoggingId;f=b("DOM").create("div",{className:"_6ykc",id:f},d);b("DOM").replace(a.leftButtonElement,f);a.leftButtonElement=f;e!=null&&b("Event").listen(f,"click",function(b){b=new CustomEvent(e);window.dispatchEvent(b);a.restorePageTray()})}d=c.rightButtonText;if(d!=null){var g=c.rightButtonEvent;f=c.rightButtonLoggingId;f=b("DOM").create("div",{className:"_6ykd",id:f},d);b("DOM").replace(a.rightButtonElement,f);a.rightButtonElement=f;g!=null&&b("Event").listen(f,"click",function(a){a=new CustomEvent(g);window.dispatchEvent(a)})}d=c.centerButtonText;if(d!=null&&a.centerButtonElement!=null&&d!=a.centerButtonElement.textContent){f=b("DOM").create("div",{className:"_7gvg"},d);b("DOM").replace(a.centerButtonElement,f);a.centerButtonElement=f}};this.$4=function(b){a.restorePageTray()}}var c=a.prototype;c.handleKeyEvents=function(a){__p&&__p();if(this.softkeyTrayContainer==null||this.softkeyTrayContainer.style.display!=""||this.viewportElement!=null&&this.viewportElement.style.display!="")return!1;switch(a.key){case"SoftLeft":a=this.leftButtonElement;if(a!=null){a.click();b("KaiOSSoftkeyTrayLogger").logSoftkeyTrayButtonClicked(a.getAttribute("id"));return!0}break;case"SoftRight":a=this.rightButtonElement;if(a!=null){a.click();b("KaiOSSoftkeyTrayLogger").logSoftkeyTrayButtonClicked(a.getAttribute("id"));return!0}break;case"Backspace":case"BrowserBack":case"ArrowUp":case"ArrowDown":if(this.menuShown&&this.leftButtonElement!=null){this.leftButtonElement.click();return!0}break}return!1};c.showFloatingMenu=function(){var a=this.menuContainerElement;a!=null&&(this.menuShown=!0,this.toggleMenuVisibility(a,!0),this.updateBackgroundOverlayVisibility(!0),this.setupCloseMenuButton())};c.setupCloseMenuButton=function(){__p&&__p();var a=this,c,d=this.leftButtonElement,e=this.rightButtonElement,f=this.centerButtonElement,g=(c=b("DOM")).create("div",{className:"_6ykc",id:"kaios_tray_menu_close"},i._("Close"));c.replace(this.leftButtonElement,g);this.leftButtonElement=g;var h=c.create("div"),j=c.create("div");c.replace(this.rightButtonElement,h);this.rightButtonElement=h;c.replace(this.centerButtonElement,j);this.centerButtonElement=j;b("Event").listen(g,"click",function(b){a.hideMenu(),a.swapButtons(g,d,h,e,j,f)});b("Event").listen(g,"kaios_close_menu",function(b){b=b.detail;var c=!0;typeof b==="object"&&("focusFirstNode"in b&&(c=b.focusFirstNode));a.hideMenu(c);a.swapButtons(g,d,h,e,j,f)})};c.hideMenu=function(a){var c;return b("regeneratorRuntime").async(function(b){while(1)switch(b.prev=b.next){case 0:a===void 0&&(a=!1),c=this.menuContainerElement,c&&(this.menuShown=!1,this.toggleMenuVisibility(c,!1),this.updateBackgroundOverlayVisibility(!1));case 3:case"end":return b.stop()}},null,this)};c.swapButtons=function(a,c,d,e,f,g){b("DOM").replace(a,c),b("DOM").replace(d,e),b("DOM").replace(f,g),this.leftButtonElement=c,this.rightButtonElement=e,this.centerButtonElement=g};c.updateBackgroundOverlayVisibility=function(a){this.backgroundElement&&(a?this.backgroundElement.classList.add("shown"):this.backgroundElement.classList.remove("shown"))};c.restorePageTray=function(){this.showPageSoftkeyTray||b("DOM").hide(this.softkeyTrayContainer),b("DOM").replace(this.leftButtonElement,this.pageLeftButtonElement),b("DOM").replace(this.rightButtonElement,this.pageRightButtonElement),this.leftButtonElement=this.pageLeftButtonElement,this.rightButtonElement=this.pageRightButtonElement};c.restoreMenuOnInitIfShown=function(){this.menuShown&&this.hideMenu()};c.setupSoftKeyElements=function(a,b,c,d,e){this.backgroundElement=a,this.menuContainerElement=b,this.menuRootElement=c,this.softkeyTrayContainer=d,this.viewportElement=e};c.setupLeftButton=function(a){this.leftButtonElement=a,this.pageLeftButtonElement=a};c.setupMenuButton=function(a){this.setupLeftButton(a),this.menuShown=!1,b("Event").listen(a,"click",this.$1)};c.setupRightButton=function(a){this.rightButtonElement=a,this.pageRightButtonElement=a};c.setupCenterButton=function(a){this.centerButtonElement=a};c.setupHistoryListener=function(){b("Stratcom").listen("history:change",null,this.$2)};c.setupNavigationUpdateListener=function(){b("Event").listen(window,"m:kaios:spatialnav:update_tray",this.$3)};c.setupRestoreTrayListener=function(){b("Stratcom").listen("m:kaios:spatialav:restore_tray",null,this.$4)};c.setupSoftKeyTrayShowHideListener=function(){var a=this;b("Stratcom").listen("m:kaios:spatialnav:hide_tray",null,function(){if(!a.softkeyTrayContainer)return;b("CSS").addClass(a.softkeyTrayContainer,"_7hj_")});b("Stratcom").listen("m:kaios:spatialnav:show_tray",null,function(){if(!a.softkeyTrayContainer)return;b("CSS").removeClass(a.softkeyTrayContainer,"_7hj_")})};return a}();c={impl:new a(),setup:function(a){var c=document.querySelector("._6yui"),d=document.querySelector("._6ywo"),e=document.querySelector("._6usn"),f=document.getElementById("viewport"),g=document.getElementById("kaios_tray");this.impl.showPageSoftkeyTray=a;a||b("DOM").hide(g);this.impl.setupSoftKeyElements(c,d,e,g,f)},initForPage:function(a,b,c,d,e){this.setup(e),this.impl.setupNavigationUpdateListener(),this.impl.setupSoftKeyTrayShowHideListener(),this.impl.setupLeftButton(a),this.impl.setupCenterButton(d),this.impl.setupRightButton(b)},initForMenu:function(a){this.impl.restoreMenuOnInitIfShown(),this.impl.setupMenuButton(a),this.impl.setupHistoryListener(),this.impl.setupRestoreTrayListener(),this.impl.updateBackgroundOverlayVisibility(!1)},handleKeyEvents:function(a){return this.impl.handleKeyEvents(a)}};e.exports=c}),null);
__d("KaiOSNavigatorUtils",["KaiOSConnectionHelper","KaiOSSendMessageUtil"],(function(a,b,c,d,e,f){"use strict";var g=new Map([["nav_mode","spatial"]]),h=new Map([["nav_mode","cursor"]]);function i(a){b("KaiOSSendMessageUtil").postMessage(b("KaiOSConnectionHelper").hostWindow,b("KaiOSSendMessageUtil").Type.TOGGLE_SPATIAL_NAV,a)}a={showCursor:function(){i(h)},hideCursor:function(){i(g)}};e.exports=a}),null);
__d("KaiOSKeyEventHandlers",["KaiOSConnectionHelper","KaiOSControllerConfig","KaiOSControllerUtils","KaiOSHTMLElementUtils","KaiOSMenuHandler","KaiOSNavigatorUtils","KaiOSSendMessageUtil","MViewport","URI","isLinkshimURI"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;function a(a){__p&&__p();if(b("KaiOSControllerConfig").fullScreenVideoHandler&&b("KaiOSControllerConfig").fullScreenVideoHandler.handleClickEvent(a)){a.preventDefault();a.stopPropagation();return}var c=a.target,d=null;c&&c.tagName==="A"?d=c.href:c&&c.parentElement&&c.parentElement.tagName==="A"?d=c.parentElement.href:c&&c.parentElement&&c.parentElement.parentElement&&c.parentElement.parentElement.tagName==="A"&&(d=c.parentElement.parentElement.href);c=new(g||(g=b("URI")))(d);var e=d!=null&&d!==""&&!/\.facebook.com$/i.test(c.getDomain());d!=null&&(b("isLinkshimURI")(c)||e)&&(b("KaiOSControllerUtils").openUrl(d),a.preventDefault(),a.stopPropagation())}function h(a){return b("KaiOSControllerConfig").appVersion!=null&&b("KaiOSHTMLElementUtils").isTextfieldInput(a.target)}function c(a){h(a)&&b("KaiOSNavigatorUtils").hideCursor()}function d(a){h(a)&&b("KaiOSNavigatorUtils").showCursor()}function f(a){__p&&__p();if(b("KaiOSMenuHandler").handleKeyEvents(a)||b("KaiOSControllerConfig").fullScreenVideoHandler&&b("KaiOSControllerConfig").fullScreenVideoHandler.handleKeyDownEvent(a)){a.preventDefault();a.stopPropagation();return}switch(a.key){case"Backspace":if(k())break;case"BrowserBack":i(a);break;case"Enter":j(a);break}}function i(a){document.fullscreenElement?(document.exitFullscreen(),a.preventDefault(),a.stopPropagation()):b("KaiOSControllerUtils").keyDownEventHandledByRegPage(a.key)?(a.preventDefault(),a.stopPropagation()):b("KaiOSControllerUtils").isOnHomeOrConfPage()&&b("MViewport").getScrollTop()>5?(a.preventDefault(),a.stopPropagation(),b("MViewport").scrollTo(0,0)):!b("KaiOSControllerUtils").isOnHomeOrConfPage()&&!b("KaiOSControllerUtils").shouldExitOnBackForLoggedOutPush()&&(b("KaiOSSendMessageUtil").postMessage(b("KaiOSConnectionHelper").hostWindow,b("KaiOSSendMessageUtil").Type.HANDLE_BACK),a.preventDefault(),a.stopPropagation())}function j(a){b("KaiOSControllerConfig").appVersion!=null&&a.target.type=="textarea"&&(a.target.blur(),a.preventDefault(),a.stopPropagation())}function k(){var a=document.activeElement;if(a&&a instanceof HTMLInputElement)return!0;else return!1}e.exports={interceptClick:a,handleTextfieldFocus:c,handleTextfieldBlur:d,handleKeyDown:f}}),null);
__d("KaiOSLogger",["Banzai","BanzaiLogger"],(function(a,b,c,d,e,f){"use strict";a={logAppVersion:function(a){b("BanzaiLogger").log("KaiOSEventsLoggerConfig",{event:"update_app_version",event_category:"app_info",app_version:a})},logWithBanzai:function(a,c,d){b("BanzaiLogger").log("KaiOSEventsLoggerConfig",{event:a,event_category:c,extra_data:d})},logAppMigrationEvent:function(a,c,d,e,f,g){var h=window.navigator.connection||null;b("Banzai").post("logger:KaiOSAppMigrationLoggerConfig",babelHelpers["extends"]({event:a,migration_phase:c,experiment_name:f||"unknown",experiment_group:g||"unknown",duration_ms:d?Math.floor(d):0,connection_type:h&&h.type?h.type:"",connection_effective_type:h&&h.effectiveType?h.effectiveType:""},e),{delay:b("Banzai").VITAL_WAIT})}};e.exports=a}),null);
__d("XExternalShareComposerController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/kaiosapp/composer/",{csid:{type:"String"},length:{type:"Int"}})}),null);
__d("KaiOSShareHandler",["XAsyncRequest","XExternalShareComposerController"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={handle:function(a){if(a===void 0)return;var c=Math.min(a.length,3),d=new FormData();for(var e=0;e<c;e++)d.append("file_"+e,a[e]);e=b("XExternalShareComposerController").getURIBuilder().setInt("length",c).getURI();new(b("XAsyncRequest"))(e).setRawData(d).setMethod("POST").send()}};e.exports=a}),null);
__d("XKaiOSAppJioTagController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/kaiosapp/jio/tag/",{})}),null);
__d("XKaiOSUpdatePushController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/kaiosapp/push/update/",{})}),null);
__d("KaiOSController",["Promise","KaiOSConnectionHelper","KaiOSControllerConfig","KaiOSControllerUtils","KaiOSFullscreenVideoHandler","KaiOSKeyEventHandlers","KaiOSLogger","KaiOSSendMessageUtil","KaiOSShareHandler","MRequest","Stratcom","XKaiOSAppJioTagController","XKaiOSUpdatePushController","getActiveElement","promiseDone","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("KaiOSControllerUtils").createCallbackHandler(),h="app://m.facebook.com",i=Object.freeze({APP_INFO:"app_info",UPDATE_PUSH:"update_push",CONFIG_REQUEST:"config_request",SHARE_PHOTO:"share_photo",LOG_MIGRATION_EVENT:"log_migration_event",TIME_TO_BROWSER_IFRAME_INIT:"time_to_browser_iframe_init"});function j(a){__p&&__p();if(!(a instanceof Map))return;var c=a.get(b("KaiOSSendMessageUtil").Action),d=a.get(b("KaiOSSendMessageUtil").ActionPayload);a=a.get(b("KaiOSSendMessageUtil").CallbackID);if(g.handleCallback(a,d))return;switch(c){case i.APP_INFO:d&&d.get&&(b("KaiOSControllerConfig").appVersion=d.get("app_version"),b("KaiOSControllerConfig").shouldLogAppVersion&&(b("KaiOSLogger").logAppVersion(b("KaiOSControllerConfig").appVersion),b("KaiOSControllerConfig").shouldLogAppVersion=!1),q.setup());break;case i.UPDATE_PUSH:if(d&&d.get){a=d.get("subscription");q.updatePush(a.endpoint,JSON.stringify(a.keys))}break;case i.CONFIG_REQUEST:c=new Map();c.set("show_news_feed_on_notification_back",b("KaiOSControllerConfig").showNewsFeedOnNotificationBack);b("KaiOSSendMessageUtil").postMessage(b("KaiOSConnectionHelper").hostWindow,b("KaiOSSendMessageUtil").Type.CONFIG_RESPONSE,c);break;case i.SHARE_PHOTO:b("KaiOSShareHandler").handle(d);break;case i.LOG_MIGRATION_EVENT:if(d&&d.get){a=d.get("migration_phase");c=d.get("roundtrip_durations");if(c&&c instanceof Array)for(var e=0;e<c.length;e++)b("KaiOSLogger").logAppMigrationEvent("completed_roundtrip",a,c[e],{roundtrip_count:e+1})}break;case i.TIME_TO_BROWSER_IFRAME_INIT:if(d&&d.get){e=d.get("timeToBrowserIframeInit");a=d.get("timestampAtBrowserIframeInit");c=d.get("migrationPhase");var f=d.get("experimentGroup");d=d.get("experimentName");e&&b("KaiOSLogger").logAppMigrationEvent("completed_browser_iframe_init",c,e,{timestamp_at_browser_iframe_init:a,lid:b("KaiOSControllerConfig").lid},d,f)}break}}function k(a){b("KaiOSControllerConfig").fullScreenVideoHandler&&b("KaiOSControllerConfig").fullScreenVideoHandler.handleMouseMoveEvent(a)&&(a.preventDefault(),a.stopPropagation())}function l(a){if(document.fullscreenElement)document.fullscreenElement.nodeName=="VIDEO"&&(screen.orientation&&screen.orientation.lock("landscape"),document.fullscreenElement.mozRequestPointerLock());else{a=new Map();a.set("orientation","natural");b("KaiOSSendMessageUtil").postMessage(b("KaiOSConnectionHelper").hostWindow,b("KaiOSSendMessageUtil").Type.SCREEN_ORIENTATION_LOCK,a)}}var m=null,n=!1,o=null,p=new(b("Promise"))(function(a){o=a}),q={waitForKaiOS:function(){return p},init:function(a){a.get("kaios__dev__")&&(o?o():function(){},this.setup()),b("KaiOSControllerConfig").appID=Number(a.get("app_id")),b("KaiOSControllerConfig").shouldLogAppVersion=!!a.get("should_log_app_version"),m=a.get("fbt_strings"),b("KaiOSControllerConfig").showNewsFeedOnNotificationBack=!!a.get("show_news_feed_on_notification_back"),b("KaiOSControllerConfig").userLoggedIn=!!a.get("user_logged_in"),b("KaiOSControllerConfig").inLatestMigrationPhase=!!a.get("in_latest_migration_phase"),b("KaiOSControllerConfig").migrationGroup=String(a.get("migration_group")),b("KaiOSControllerConfig").lid=String(a.get("lid")),window.addEventListener("message",q.receiveMessage,!1)},enableBackButtonOnRegPage:function(){b("KaiOSControllerConfig").backButtonOnRegPage=!0},setup:function(){__p&&__p();var a;window.addEventListener("click",(a=b("KaiOSKeyEventHandlers")).interceptClick,!0);window.addEventListener("keydown",a.handleKeyDown,!1);window.addEventListener("mousemove",k,!0);window.addEventListener("focus",a.handleTextfieldFocus,!0);window.addEventListener("blur",a.handleTextfieldBlur,!0);b("KaiOSControllerConfig").appVersion!=null&&window.addEventListener("fullscreenchange",l,!1);b("Stratcom").listen("click",["m-composer","composer-submit"],function(a){b("setTimeoutAcrossTransitions")(function(){var c=b("getActiveElement")();c&&c==a.getNode("composer-submit")&&c.blur()},100)});b("KaiOSControllerConfig").userLoggedIn&&b("KaiOSSendMessageUtil").postMessage(b("KaiOSConnectionHelper").hostWindow,b("KaiOSSendMessageUtil").Type.CHECK_FOR_PUSH_UPDATE);if(m!=null&&m!==""){a=new Map();a.set("fbt_strings",m);b("KaiOSSendMessageUtil").postMessage(b("KaiOSConnectionHelper").hostWindow,b("KaiOSSendMessageUtil").Type.FBT_STRINGS,a)}a=new Map();a.set("inLatestMigrationPhase",b("KaiOSControllerConfig").inLatestMigrationPhase);a.set("migrationGroup",b("KaiOSControllerConfig").migrationGroup);b("KaiOSSendMessageUtil").postMessage(b("KaiOSConnectionHelper").hostWindow,b("KaiOSSendMessageUtil").Type.LITE_MIGRATION_STATUS,a);o?o():(function(){})},sendMessageToAppWithCallback:function(a,c){c=g.setCallback(c);b("KaiOSSendMessageUtil").postMessage(b("KaiOSConnectionHelper").hostWindow,a,null,c)},maybeTagMeAsKaiOSApp:function(){b("KaiOSConnectionHelper").hostWindow!=null?q.tagMeAsKaiOSApp():n=!0},tagMeAsKaiOSApp:function(){var a=b("XKaiOSAppJioTagController").getURIBuilder().getURI();a=new(b("MRequest"))(a).setMethod("POST").setData({is_kaios_app:!0});n=!1;a.send()},registerPush:function(a){a=g.setCallback(a);b("KaiOSSendMessageUtil").postMessage(b("KaiOSConnectionHelper").hostWindow,b("KaiOSSendMessageUtil").Type.REGISTER_PUSH,null,a)},unregisterPush:function(){b("promiseDone")(q.waitForKaiOS(),function(){b("KaiOSSendMessageUtil").postMessage(b("KaiOSConnectionHelper").hostWindow,b("KaiOSSendMessageUtil").Type.UNREGISTER_PUSH)})},updatePush:function(a,c){var d=b("XKaiOSUpdatePushController").getURIBuilder().getURI();d=new(b("MRequest"))(d).setMethod("POST").setData({push_endpoint:a,app_id:b("KaiOSControllerConfig").appID,subscription_keys:c});d.listen("done",function(a){a.payload&&a.payload.success&&b("KaiOSSendMessageUtil").postMessage(b("KaiOSConnectionHelper").hostWindow,b("KaiOSSendMessageUtil").Type.PUSH_UPDATE_COMPLETED)});d.send()},receiveMessage:function(a){if(!a||h!=a.origin||!a.source)return;b("KaiOSConnectionHelper").hostWindow||(b("KaiOSConnectionHelper").hostWindow=a.source,b("KaiOSControllerConfig").fullScreenVideoHandler=new(b("KaiOSFullscreenVideoHandler"))(b("KaiOSConnectionHelper").hostWindow),b("KaiOSSendMessageUtil").postMessage(b("KaiOSConnectionHelper").hostWindow,b("KaiOSSendMessageUtil").Type.MESSAGE_RECEIVED));a.data&&j(a.data);n&&q.tagMeAsKaiOSApp()},_setHostWindowUnitTestsOnly:function(a){b("KaiOSConnectionHelper").hostWindow=a},isTagIfInsideApp:function(){return n},fetchMsisdn:function(a){a=g.setCallback(a);b("KaiOSSendMessageUtil").postMessage(b("KaiOSConnectionHelper").hostWindow,b("KaiOSSendMessageUtil").Type.FETCH_MSISDN,null,a)}};e.exports=q}),null);
__d("MLoginView",["cx","CSS","DeferredCookie","DOM","MButton","Stratcom","ge"],(function(a,b,c,d,e,f,g){__p&&__p();var h={disableOnSubmit:function(a,c){b("DOM").listen(a,"submit",null,function(){b("DeferredCookie").flushAllCookies(),b("MButton").setEnabled(c,!1),window.setTimeout(b("MButton").setEnabled.bind(null,c,!0),15e3)})},appSwitch:function(a){window.location.replace(a)},showForm:function(a,c,d){__p&&__p();b("DOM").listen(a,"click",null,function(d){b("DOM").remove(a);b("CSS").removeClass(c,"_7tb");d=b("DOM").scry(b("ge")("root"),"div","m_login_form_title");if(d.length>0){d=d[0];d instanceof HTMLElement&&b("DOM").remove(d)}window.setTimeout(function(){b("Stratcom").invoke("m:kaios:spatialnav:refresh",null,null),h.snapFocusToUsernameTextField()},150)})},snapFocusToUsernameTextField:function(){var a=b("ge")("m_login_email");a=a?b("DOM").find(a,"input"):null;a instanceof HTMLElement&&a.focus()}};e.exports=h}),null);
__d("MPasswordPlainTextToggle",["invariant","CSS","DOM","Stratcom"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a={init:function(a,c,d,e){d!==null&&e!==null||g(0,4607);var f=a;a.tagName!=="INPUT"&&(f=b("DOM").scry(a,"input")[0]);b("Stratcom").listen("click","password-plain-text-toggle",function(a){f.type=="password"?(f.type="text",b("CSS").hide(d),b("CSS").show(e),f.focus()):(f.type="password",b("CSS").hide(e),b("CSS").show(d),f.focus()),a.kill()});b("Stratcom").listen(["m:passwordinput:autoclear","input"],"password-plain-text-toggle-input",function(a){f.value==""?b("CSS").hide(c):b("CSS").show(c),b("Stratcom").invoke("m:kaios:spatialnav:refresh",null,null)})}};e.exports=a}),null);
__d("XBrowserPushDisabledController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/notifications/client/push/disabled/",{})}),null);
__d("XOauthDialogController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/dialog/oauth/",{app_id:{type:"Int"},auth_method:{type:"Enum",defaultValue:"",enumType:1},calling_package_key:{type:"String"},context_uri:{type:"String"},default_audience:{type:"Enum",enumType:1},display:{type:"Enum",enumType:1},domain:{type:"String"},encoded_state:{type:"String"},fallback_redirect_uri:{type:"String"},force_confirmation:{type:"Bool",defaultValue:!1},kid_directed_site:{type:"Bool",defaultValue:!1},install_nonce:{type:"String"},legacy_override:{type:"String"},logged_out_behavior:{type:"Enum",enumType:0},logger_id:{type:"String"},native_login_button:{type:"Bool",defaultValue:!1},original_redirect_uri:{type:"String"},privacyx:{type:"String"},redirect_uri:{type:"String"},ref:{type:"String"},return_format:{type:"EnumVector",enumType:{member:1}},return_scopes:{type:"Bool",defaultValue:!1},scope:{type:"StringVector"},scope_objects:{type:"String"},scope_objects_count:{type:"String"},sdk:{type:"String"},sdk_version:{type:"String"},seen_scopes:{type:"String"},sheet_name:{type:"String"},state:{type:"String"},user_mobile_phone:{type:"String"},android_key:{type:"String"},sso:{type:"String"},sso_device:{type:"Enum",enumType:1},sso_key:{type:"String"},nonce:{type:"String"},user_code:{type:"String"},auth_type:{type:"String"},auth_nonce:{type:"String"},ret:{type:"String"},fbs:{type:"Int",defaultValue:-1},fbapp_pres:{type:"Bool",defaultValue:!1},response_type:{type:"String",defaultValue:"code"},ignore_reentry:{type:"Bool",defaultValue:!1},type:{type:"Enum",enumType:1},l_nonce:{type:"String"},cbt:{type:"Int"},ies:{type:"Bool",defaultValue:!1}})}),null);
__d("DamerauLevenshtein",[],(function(a,b,c,d,e,f){__p&&__p();a={DamerauLevenshteinDistance:function(a,b){__p&&__p();if(a.length===0)return b.length;if(b.length===0)return a.length;if(a===b)return 0;var c,d,e=[];e[0]=[];e[1]=[];e[2]=[];for(d=0;d<=b.length;d++)e[0][d]=d;for(c=1;c<=a.length;c++)for(d=1;d<=b.length;d++){e[c%3][0]=c;var f=a.charAt(c-1)===b.charAt(d-1)?0:1;e[c%3][d]=Math.min(e[(c-1)%3][d]+1,e[c%3][d-1]+1,e[(c-1)%3][d-1]+f);c>1&&d>1&&a.charAt(c-1)==b.charAt(d-2)&&a.charAt(c-2)==b.charAt(d-1)&&(e[c%3][d]=Math.min(e[c%3][d],e[(c-2)%3][d-2]+f))}return e[a.length%3][b.length]}};e.exports=a}),null);
__d("BrowserPrefillLogging",["BanzaiLogger","DamerauLevenshtein","ge"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={initContactpointFieldLogging:function(a){this.contactpointFieldID=a.contactpointFieldID;this._updateContactpoint();this.serverPrefillContactpoint=a.serverPrefill;a=b("ge")(this.contactpointFieldID);if(a==null)return;a.addEventListener("input",this._mayLogContactpointPrefillViaDropdown.bind(this));window.addEventListener("load",this._mayLogContactpointPrefillOnload.bind(this));return},registerCallback:function(a){this.regeisteredCallbacks=this.regeisteredCallbacks||[],this.regeisteredCallbacks.push(a)},_invokeCallbacks:function(a,b){if(this.regeisteredCallbacks==null||this.regeisteredCallbacks.size===0)return;this.regeisteredCallbacks.forEach(function(c){c(a,b)})},initPasswordFieldLogging:function(a){this.passwordFieldID=a.passwordFieldID;this._updatePassword();a=b("ge")(this.passwordFieldID);if(a==null)return;a.addEventListener("input",this._mayLogPasswordPrefillViaDropdown.bind(this));window.addEventListener("load",this._mayLogPasswordPrefillOnload.bind(this))},updatePrefill:function(a,c,d){var e,f=(e=b("ge"))("prefill_source"),g=e("prefill_type"),h=e("first_prefill_source"),i=e("first_prefill_type"),j=e("had_cp_prefilled"),k=e("had_password_prefilled");e=e("prefill_contact_point");f!=null&&(f.value=c);g!=null&&(g.value=d);e!=null&&a!=null&&(e.value=a);i!=null&&(i.value==null||i.value=="")&&(i.value=d);h!=null&&(h.value==null||h.value=="")&&(h.value=c);j!=null&&(j.value==null||j.value==="false")&&d==="contact_point"&&(j.value="true");k!=null&&(k.value==null||k.value==="false")&&d==="password"&&(k.value="true")},_mayLogContactpointPrefillOnload:function(){this._updateContactpoint();if(this.previousContactpoint==null||this.previousContactpoint==="")return;var a=this.previousContactpoint===this.serverPrefillContactpoint?"server_prefill":"browser_onload";this._logBrowserPrefill(a,"contact_point");this._invokeCallbacks(a,"contact_point")},_mayLogPasswordPrefillOnload:function(){this._updatePassword();if(this.previousPassword==null||this.previousPassword==="")return;this._logBrowserPrefill("browser_onload","password");this._invokeCallbacks("browser_onload","password")},_mayLogContactpointPrefillViaDropdown:function(){__p&&__p();var a=b("ge")(this.contactpointFieldID);if(a==null||a.value==null)return;if(this._isBrowserPrefill(this.previousContactpoint,a.value)===!1){this._updateContactpoint();return}this._updateContactpoint();this._logBrowserPrefill("browser_dropdown","contact_point");this._invokeCallbacks("browser_dropdown","contact_point")},_mayLogPasswordPrefillViaDropdown:function(){__p&&__p();var a=b("ge")(this.passwordFieldID);if(a==null||a.value==null)return;if(this._isBrowserPrefill(this.previousPassword,a.value)===!1){this._updatePassword();return}this._updatePassword();this._logBrowserPrefill("browser_dropdown","password");this._invokeCallbacks("browser_dropdown","password")},_isBrowserPrefill:function(a,c){if(c==="")return!1;if(c===a)return!1;if(c.length===1||a.length===c.length+1||c.length===a.length+1)return!1;var d=b("DamerauLevenshtein").DamerauLevenshteinDistance(c,a);return d===a.length-c.length?!1:!0},_updateContactpoint:function(){var a=b("ge")(this.contactpointFieldID);this.previousContactpoint=a!=null&&a.value!=null?a.value:""},_updatePassword:function(){var a=b("ge")(this.passwordFieldID);this.previousPassword=a!=null&&a.value!=null?a.value:""},_logBrowserPrefill:function(a,c){var d=null;c==="contact_point"&&(d=this.previousContactpoint);a!=="server_prefill"&&this.updatePrefill(d,a,c);b("BanzaiLogger").create({signal:!0}).log("LoginEventsLoggerConfig",{event:"browser_autocomplete",prefill_contact_point:d,prefill_source:a,prefill_type:c})}};e.exports=a}),null);
__d("PlatformOAuthDialogLoginFunnelLogger",["FBLogger","URI","WebFunnelLogger"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;a={log:function(a,c,d){__p&&__p();if(null==d||""===d||null==c||""===c||0===c){b("FBLogger")("platform_login_web_funnel_client_js").mustfix("\nerror: null_required_field\naction: "+a+"\nloggerId: "+String(d)+"\ncbt: "+String(c)+"\n        ");return}c="number"!==typeof c?parseInt(c,10):c;var e=Date.now()-c,f=h(),g=i();d=new(b("WebFunnelLogger"))("PlatformLoginWebFunnelDefinition").setAction(a).setSessionKey(d).addActionPayload("logger_id",d).addActionPayload("first_paint_time",f).addActionPayload("response_start_time",g).addActionPayload("cbt_delta",e).addFunnelPayload("cbt",c);if(a==="client_logged_out_init_impression"){f=j();d.addFunnelPayload("login_uri",f)}d.logVital()}};var h=function(){if(window.performance){var a=window.performance.getEntriesByType("paint").filter(function(a){return"first-paint"===a.name});if(null==a||0<!a.length)return null;a=a[0].startTime+a[0].duration;return a}return null},i=function(){if(window.performance){var a=window.performance.getEntriesByType("navigation");return null==a||0<!a.length?null:a[0].responseStart}return null},j=function(){return(g||(g=b("URI"))).getRequestURI().setQueryString("").toString()};e.exports=a}),null);
__d("PlatformDialogCBTSetter",["PlatformOAuthDialogLoginFunnelLogger","URI","XOauthDialogController","uuid"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;a={setCBTInFieldAndLog:function(a,c,d){if(a.value===""){var e=Date.now();a.value=e.toString()}b("PlatformOAuthDialogLoginFunnelLogger").log(c,a.value,d)},setCBTInFormAndLog:function(a,c){__p&&__p();var d=new(g||(g=b("URI")))(a.action),e=d.getQueryData().next;if(!e)return;e=new g(e);var f=b("XOauthDialogController").getURIBuilder().getURI().getPath().toString();f.endsWith("/")&&(f=f.substr(0,f.length-1));if(!e.getPath().includes(f))return;f=e.getQueryData().cbt;var h=e.getQueryData().logger_id;f||(f=Date.now(),e.addQueryData("cbt",f),d.addQueryData("next",e.toString()),a.action=d.toString());h||(h=b("uuid")(),e.addQueryData("logger_id",h),d.addQueryData("next",e.toString()),a.action=d.toString());b("PlatformOAuthDialogLoginFunnelLogger").log(c,f,h)}};e.exports=a}),null);